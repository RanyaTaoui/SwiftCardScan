{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { Platform } from 'expo-modules-core';\nimport path from 'path-browserify';\nimport PixelRatio from \"react-native-web/dist/exports/PixelRatio\";\nimport URL from 'url-parse';\nimport AssetSourceResolver from \"./AssetSourceResolver\";\nimport { getManifest, getManifest2, manifestBaseUrl } from \"./PlatformUtils\";\nvar assetMapOverride = getManifest().assetMapOverride;\nexport function selectAssetSource(meta) {\n  var _manifest2$extra, _manifest2$extra$expo;\n  if (assetMapOverride && assetMapOverride.hasOwnProperty(meta.hash)) {\n    meta = _objectSpread(_objectSpread({}, meta), assetMapOverride[meta.hash]);\n  }\n  var scale = AssetSourceResolver.pickScale(meta.scales, PixelRatio.get());\n  var index = meta.scales.findIndex(function (s) {\n    return s === scale;\n  });\n  var hash = meta.fileHashes ? meta.fileHashes[index] || meta.fileHashes[0] : meta.hash;\n  var uri = meta.fileUris ? meta.fileUris[index] || meta.fileUris[0] : meta.uri;\n  if (uri) {\n    return {\n      uri: resolveUri(uri),\n      hash: hash\n    };\n  }\n  var assetUrlOverride = getManifest().assetUrlOverride;\n  if (assetUrlOverride) {\n    var _uri = path.join(assetUrlOverride, hash);\n    return {\n      uri: resolveUri(_uri),\n      hash: hash\n    };\n  }\n  var fileScale = scale === 1 ? '' : `@${scale}x`;\n  var fileExtension = meta.type ? `.${encodeURIComponent(meta.type)}` : '';\n  var suffix = `/${encodeURIComponent(meta.name)}${fileScale}${fileExtension}?platform=${encodeURIComponent(Platform.OS)}&hash=${encodeURIComponent(meta.hash)}`;\n  if (/^https?:\\/\\//.test(meta.httpServerLocation)) {\n    var _uri2 = meta.httpServerLocation + suffix;\n    return {\n      uri: _uri2,\n      hash: hash\n    };\n  }\n  var manifest2 = getManifest2();\n  if (manifest2 != null && (_manifest2$extra = manifest2.extra) != null && (_manifest2$extra$expo = _manifest2$extra.expoGo) != null && _manifest2$extra$expo.developer) {\n    var baseUrl = new URL(`http://${manifest2.extra.expoGo.debuggerHost}`);\n    baseUrl.set('pathname', meta.httpServerLocation + suffix);\n    return {\n      uri: baseUrl.href,\n      hash: hash\n    };\n  }\n  if (getManifest().developer) {\n    var _baseUrl = new URL(getManifest().bundleUrl);\n    _baseUrl.set('pathname', meta.httpServerLocation + suffix);\n    return {\n      uri: _baseUrl.href,\n      hash: hash\n    };\n  }\n  return {\n    uri: `https://classic-assets.eascdn.net/~assets/${encodeURIComponent(hash)}`,\n    hash: hash\n  };\n}\nexport function resolveUri(uri) {\n  if (!manifestBaseUrl) {\n    return uri;\n  }\n  var _URL = new URL(uri),\n    protocol = _URL.protocol;\n  if (protocol !== '') {\n    return uri;\n  }\n  var baseUrl = new URL(manifestBaseUrl);\n  var resolvedPath = uri.startsWith('/') ? uri : path.join(baseUrl.pathname, uri);\n  baseUrl.set('pathname', resolvedPath);\n  return baseUrl.href;\n}","map":{"version":3,"names":["Platform","path","PixelRatio","URL","AssetSourceResolver","getManifest","getManifest2","manifestBaseUrl","assetMapOverride","selectAssetSource","meta","_manifest2$extra","_manifest2$extra$expo","hasOwnProperty","hash","_objectSpread","scale","pickScale","scales","get","index","findIndex","s","fileHashes","uri","fileUris","resolveUri","assetUrlOverride","join","fileScale","fileExtension","type","encodeURIComponent","suffix","name","OS","test","httpServerLocation","manifest2","extra","expoGo","developer","baseUrl","debuggerHost","set","href","bundleUrl","_URL","protocol","resolvedPath","startsWith","pathname"],"sources":["D:/pf/SwiftCardScan/node_modules/expo-asset/build/AssetSources.js"],"sourcesContent":["import { Platform } from 'expo-modules-core';\nimport path from 'path-browserify';\nimport { PixelRatio } from 'react-native';\nimport URL from 'url-parse';\nimport AssetSourceResolver from './AssetSourceResolver';\nimport { getManifest, getManifest2, manifestBaseUrl } from './PlatformUtils';\n// Fast lookup check if asset map has any overrides in the manifest\nconst assetMapOverride = getManifest().assetMapOverride;\n/**\n * Selects the best file for the given asset (ex: choosing the best scale for images) and returns\n * a { uri, hash } pair for the specific asset file.\n *\n * If the asset isn't an image with multiple scales, the first file is selected.\n */\nexport function selectAssetSource(meta) {\n    // Override with the asset map in manifest if available\n    if (assetMapOverride && assetMapOverride.hasOwnProperty(meta.hash)) {\n        meta = { ...meta, ...assetMapOverride[meta.hash] };\n    }\n    // This logic is based on that of AssetSourceResolver, with additional support for file hashes and\n    // explicitly provided URIs\n    const scale = AssetSourceResolver.pickScale(meta.scales, PixelRatio.get());\n    const index = meta.scales.findIndex((s) => s === scale);\n    const hash = meta.fileHashes ? meta.fileHashes[index] || meta.fileHashes[0] : meta.hash;\n    // Allow asset processors to directly provide the URL to load\n    const uri = meta.fileUris ? meta.fileUris[index] || meta.fileUris[0] : meta.uri;\n    if (uri) {\n        return { uri: resolveUri(uri), hash };\n    }\n    // Check if the assetUrl was overridden in the manifest\n    const assetUrlOverride = getManifest().assetUrlOverride;\n    if (assetUrlOverride) {\n        const uri = path.join(assetUrlOverride, hash);\n        return { uri: resolveUri(uri), hash };\n    }\n    const fileScale = scale === 1 ? '' : `@${scale}x`;\n    const fileExtension = meta.type ? `.${encodeURIComponent(meta.type)}` : '';\n    const suffix = `/${encodeURIComponent(meta.name)}${fileScale}${fileExtension}?platform=${encodeURIComponent(Platform.OS)}&hash=${encodeURIComponent(meta.hash)}`;\n    // For assets with a specified absolute URL, we use the existing origin instead of prepending the\n    // development server or production CDN URL origin\n    if (/^https?:\\/\\//.test(meta.httpServerLocation)) {\n        const uri = meta.httpServerLocation + suffix;\n        return { uri, hash };\n    }\n    // For assets during development using manifest2, we use the development server's URL origin\n    const manifest2 = getManifest2();\n    if (manifest2?.extra?.expoGo?.developer) {\n        const baseUrl = new URL(`http://${manifest2.extra.expoGo.debuggerHost}`);\n        baseUrl.set('pathname', meta.httpServerLocation + suffix);\n        return {\n            uri: baseUrl.href,\n            hash,\n        };\n    }\n    // For assets during development, we use the development server's URL origin\n    if (getManifest().developer) {\n        const baseUrl = new URL(getManifest().bundleUrl);\n        baseUrl.set('pathname', meta.httpServerLocation + suffix);\n        return { uri: baseUrl.href, hash };\n    }\n    // Production CDN URIs are based on each asset file hash\n    return {\n        uri: `https://classic-assets.eascdn.net/~assets/${encodeURIComponent(hash)}`,\n        hash,\n    };\n}\n/**\n * Resolves the given URI to an absolute URI. If the given URI is already an absolute URI, it is\n * simply returned. Otherwise, if it is a relative URI, it is resolved relative to the manifest's\n * base URI.\n */\nexport function resolveUri(uri) {\n    if (!manifestBaseUrl) {\n        return uri;\n    }\n    const { protocol } = new URL(uri);\n    if (protocol !== '') {\n        return uri;\n    }\n    const baseUrl = new URL(manifestBaseUrl);\n    const resolvedPath = uri.startsWith('/') ? uri : path.join(baseUrl.pathname, uri);\n    baseUrl.set('pathname', resolvedPath);\n    return baseUrl.href;\n}\n//# sourceMappingURL=AssetSources.js.map"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}